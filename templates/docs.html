{% extends "templates/base.html" %}

{% block title %}Documentation - {{ site.name | default(value="RustPress") }}{% endblock %}

{% block content %}
<main class="main-content">
  <!-- Hero Section -->
  <section class="docs-hero">
    <div class="container">
      <div class="docs-hero-content" data-animate="fade-up">
        <span class="hero-badge">Documentation</span>
        <h1 class="hero-title">Learn <span class="text-gradient">RustPress</span></h1>
        <p class="hero-description">
          Comprehensive guides, tutorials, and API references to help you
          build amazing websites with RustPress.
        </p>
        <div class="search-box">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          <input type="text" placeholder="Search documentation..." id="docs-search">
          <kbd>Ctrl+K</kbd>
        </div>
      </div>
    </div>
  </section>

  <!-- Documentation Carousel -->
  <section class="docs-showcase section">
    <div class="container">
      <div class="carousel-container" data-animate="fade-up">
        <div class="carousel" id="docs-carousel">
          <div class="carousel-track">
            <!-- Getting Started -->
            <div class="carousel-slide">
              <div class="docs-card">
                <div class="docs-card-visual">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
                </div>
                <h3>Getting Started</h3>
                <p>Install RustPress and create your first site in minutes</p>
                <a href="#getting-started" class="docs-link">
                  Read Guide
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>

            <!-- Themes Guide -->
            <div class="carousel-slide">
              <div class="docs-card">
                <div class="docs-card-visual">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
                </div>
                <h3>Theme Development</h3>
                <p>Create beautiful themes with Tera templates</p>
                <a href="#themes" class="docs-link">
                  Read Guide
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>

            <!-- Plugin Development -->
            <div class="carousel-slide">
              <div class="docs-card">
                <div class="docs-card-visual">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                </div>
                <h3>Plugin Development</h3>
                <p>Extend RustPress with powerful plugins</p>
                <a href="#plugins" class="docs-link">
                  Read Guide
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>

            <!-- API Reference -->
            <div class="carousel-slide">
              <div class="docs-card">
                <div class="docs-card-visual">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
                </div>
                <h3>API Reference</h3>
                <p>Complete REST API documentation</p>
                <a href="#api" class="docs-link">
                  Read Guide
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>

            <!-- Deployment -->
            <div class="carousel-slide">
              <div class="docs-card">
                <div class="docs-card-visual">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                </div>
                <h3>Deployment</h3>
                <p>Deploy to any platform or cloud provider</p>
                <a href="#deployment" class="docs-link">
                  Read Guide
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Carousel Controls -->
        <div class="carousel-controls">
          <button class="carousel-btn carousel-btn--prev" aria-label="Previous">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
          </button>
          <div class="carousel-dots"></div>
          <button class="carousel-btn carousel-btn--next" aria-label="Next">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Documentation Overview -->
  <section class="docs-overview section section--muted">
    <div class="container">
      <div class="overview-grid">
        <div class="overview-content" data-animate="fade-right">
          <h2 class="section-title">Comprehensive <span class="text-gradient">Documentation</span></h2>
          <p class="section-text">
            Our documentation covers everything from basic installation to advanced
            customization. Whether you're a beginner or an expert, you'll find what you need.
          </p>
          <ul class="feature-list">
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              <span><strong>Step-by-Step Tutorials</strong> - Learn by doing with practical examples</span>
            </li>
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              <span><strong>API Reference</strong> - Complete documentation for all endpoints</span>
            </li>
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              <span><strong>Code Examples</strong> - Copy-paste ready code snippets</span>
            </li>
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              <span><strong>Video Tutorials</strong> - Visual guides for complex topics</span>
            </li>
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              <span><strong>Community Support</strong> - Get help from other developers</span>
            </li>
          </ul>
        </div>
        <div class="overview-visual" data-animate="fade-left">
          <div class="docs-preview">
            <div class="docs-preview-header">
              <div class="window-controls">
                <span></span><span></span><span></span>
              </div>
              <span class="docs-preview-title">Getting Started - RustPress Docs</span>
            </div>
            <div class="docs-preview-content">
              <div class="docs-preview-sidebar">
                <div class="sidebar-item active">Getting Started</div>
                <div class="sidebar-item">Installation</div>
                <div class="sidebar-item">Configuration</div>
                <div class="sidebar-item">First Site</div>
              </div>
              <div class="docs-preview-main">
                <h4>Getting Started</h4>
                <p>Welcome to RustPress! This guide will help you set up your first site.</p>
                <div class="code-snippet">
                  <code>cargo install rustpress</code>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Popular Topics -->
  <section class="popular-topics section">
    <div class="container">
      <div class="section-header" data-animate="fade-up">
        <h2 class="section-title">Popular <span class="text-gradient">Topics</span></h2>
        <p class="section-subtitle">Most viewed documentation pages</p>
      </div>

      <div class="topics-grid" data-animate-stagger>
        <a href="#installation" class="topic-card">
          <span class="topic-number">01</span>
          <h4>Installation Guide</h4>
          <p>Install RustPress on any operating system</p>
        </a>

        <a href="#themes-creating" class="topic-card">
          <span class="topic-number">02</span>
          <h4>Creating Themes</h4>
          <p>Build custom themes with Tera templates</p>
        </a>

        <a href="#configuration" class="topic-card">
          <span class="topic-number">03</span>
          <h4>Configuration</h4>
          <p>Configure database, caching, and more</p>
        </a>

        <a href="#markdown" class="topic-card">
          <span class="topic-number">04</span>
          <h4>Markdown Syntax</h4>
          <p>Extended markdown features in RustPress</p>
        </a>

        <a href="#media" class="topic-card">
          <span class="topic-number">05</span>
          <h4>Media Management</h4>
          <p>Upload, optimize, and organize media</p>
        </a>

        <a href="#docker" class="topic-card">
          <span class="topic-number">06</span>
          <h4>Docker Deployment</h4>
          <p>Deploy with Docker and Docker Compose</p>
        </a>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section section section--muted">
    <div class="container">
      <div class="cta-content" data-animate="fade-up">
        <h2 class="cta-title">Can't Find What You Need?</h2>
        <p class="cta-description">Our community is here to help. Join the discussion or open an issue.</p>
        <div class="cta-actions">
          <a href="https://discord.gg/rustpress" class="btn btn--primary btn--xl btn--glow" target="_blank" rel="noopener">
            Join Community
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          </a>
          <a href="https://github.com/rustpress/rustpress/issues" class="btn btn--outline btn--xl">Report Issue</a>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock %}

{% block styles %}
<style>
/* Docs Hero */
.docs-hero {
  padding: var(--space-20) 0 var(--space-10);
  background: var(--gradient-dark);
  text-align: center;
}

.docs-hero-content {
  max-width: 800px;
  margin: 0 auto;
}

.hero-badge {
  display: inline-block;
  padding: var(--space-2) var(--space-4);
  background: rgba(206, 66, 43, 0.1);
  border: 1px solid var(--border-rust);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-rust-light);
  margin-bottom: var(--space-6);
}

.hero-title {
  font-size: var(--text-5xl);
  font-weight: var(--weight-bold);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-6);
}

.hero-description {
  font-size: var(--text-xl);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-8);
}

.search-box {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  max-width: 500px;
  margin: 0 auto;
  padding: var(--space-4) var(--space-5);
  background: var(--color-bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
}

.search-box svg {
  color: var(--color-text-muted);
  flex-shrink: 0;
}

.search-box input {
  flex: 1;
  background: none;
  border: none;
  color: var(--color-text-primary);
  font-size: var(--text-base);
}

.search-box input:focus {
  outline: none;
}

.search-box kbd {
  padding: var(--space-1) var(--space-2);
  background: var(--color-bg-tertiary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  color: var(--color-text-muted);
}

/* Docs Carousel */
.carousel-container {
  position: relative;
  padding: 0 var(--space-16);
}

.carousel {
  overflow: hidden;
}

.carousel-track {
  display: flex;
  gap: var(--space-6);
  transition: transform 0.5s var(--ease-out);
}

.carousel-slide {
  flex: 0 0 calc(33.333% - var(--space-4));
  min-width: 280px;
}

.docs-card {
  background: var(--color-bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  text-align: center;
  transition: all var(--duration-normal) var(--ease-out);
  height: 100%;
}

.docs-card:hover {
  border-color: var(--color-rust);
  transform: translateY(-4px);
}

.docs-card-visual {
  width: 80px;
  height: 80px;
  margin: 0 auto var(--space-5);
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(206, 66, 43, 0.1);
  border-radius: var(--radius-xl);
  color: var(--color-rust);
}

.docs-card h3 {
  font-size: var(--text-lg);
  margin-bottom: var(--space-2);
}

.docs-card p {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-4);
}

.docs-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-rust-light);
}

.docs-card:hover .docs-link {
  gap: var(--space-3);
}

/* Carousel Controls */
.carousel-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-6);
  margin-top: var(--space-8);
}

.carousel-btn {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-card);
  border: 1px solid var(--border-color);
  border-radius: 50%;
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-out);
}

.carousel-btn:hover {
  border-color: var(--color-rust);
  color: var(--color-rust);
}

.carousel-dots {
  display: flex;
  gap: var(--space-2);
}

/* Overview Grid */
.overview-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-16);
  align-items: center;
}

.section-text {
  font-size: var(--text-lg);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-8);
  line-height: var(--leading-relaxed);
}

.feature-list {
  list-style: none;
  padding: 0;
}

.feature-list li {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3) 0;
  border-bottom: 1px solid var(--border-color);
}

.feature-list li:last-child {
  border-bottom: none;
}

.feature-list li svg {
  flex-shrink: 0;
  color: #27ca40;
  margin-top: 2px;
}

/* Docs Preview */
.docs-preview {
  background: var(--color-bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  overflow: hidden;
}

.docs-preview-header {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-3) var(--space-4);
  background: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--border-color);
}

.window-controls {
  display: flex;
  gap: var(--space-2);
}

.window-controls span {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--border-color);
}

.window-controls span:first-child { background: #ff5f57; }
.window-controls span:nth-child(2) { background: #ffbd2e; }
.window-controls span:last-child { background: #27ca40; }

.docs-preview-title {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

.docs-preview-content {
  display: flex;
  min-height: 250px;
}

.docs-preview-sidebar {
  width: 160px;
  padding: var(--space-4);
  border-right: 1px solid var(--border-color);
}

.sidebar-item {
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-1);
}

.sidebar-item.active {
  background: rgba(206, 66, 43, 0.1);
  color: var(--color-rust-light);
}

.docs-preview-main {
  flex: 1;
  padding: var(--space-5);
}

.docs-preview-main h4 {
  font-size: var(--text-lg);
  margin-bottom: var(--space-3);
}

.docs-preview-main p {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-4);
}

.code-snippet {
  background: var(--color-bg-tertiary);
  padding: var(--space-3);
  border-radius: var(--radius-md);
  font-family: monospace;
  font-size: var(--text-sm);
  color: var(--color-rust-light);
}

/* Topics Grid */
.topics-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.topic-card {
  display: block;
  background: var(--color-bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  transition: all var(--duration-normal) var(--ease-out);
}

.topic-card:hover {
  border-color: var(--color-rust);
  transform: translateY(-4px);
}

.topic-number {
  display: block;
  font-size: var(--text-3xl);
  font-weight: var(--weight-bold);
  color: var(--color-rust);
  opacity: 0.3;
  margin-bottom: var(--space-3);
}

.topic-card h4 {
  font-size: var(--text-lg);
  margin-bottom: var(--space-2);
}

.topic-card p {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

/* CTA Section */
.cta-content {
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
}

.cta-title {
  font-size: var(--text-4xl);
  font-weight: var(--weight-bold);
  margin-bottom: var(--space-4);
}

.cta-description {
  font-size: var(--text-lg);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-8);
}

.cta-actions {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
}

/* Responsive */
@media (max-width: 1024px) {
  .carousel-slide {
    flex: 0 0 calc(50% - var(--space-3));
  }

  .overview-grid {
    grid-template-columns: 1fr;
  }

  .topics-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .hero-title {
    font-size: var(--text-3xl);
  }

  .carousel-container {
    padding: 0;
  }

  .carousel-slide {
    flex: 0 0 100%;
  }

  .topics-grid {
    grid-template-columns: 1fr;
  }

  .cta-actions {
    flex-direction: column;
  }
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
  const carousel = document.getElementById('docs-carousel');
  if (!carousel) return;

  const track = carousel.querySelector('.carousel-track');
  const slides = carousel.querySelectorAll('.carousel-slide');
  const prevBtn = document.querySelector('.carousel-btn--prev');
  const nextBtn = document.querySelector('.carousel-btn--next');
  const dotsContainer = document.querySelector('.carousel-dots');

  let currentIndex = 0;
  const slidesToShow = window.innerWidth < 768 ? 1 : window.innerWidth < 1024 ? 2 : 3;
  const maxIndex = Math.max(0, slides.length - slidesToShow);

  for (let i = 0; i <= maxIndex; i++) {
    const dot = document.createElement('div');
    dot.classList.add('carousel-dot');
    if (i === 0) dot.classList.add('active');
    dot.addEventListener('click', () => goToSlide(i));
    dotsContainer.appendChild(dot);
  }

  function updateCarousel() {
    const slideWidth = slides[0].offsetWidth + 24;
    track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;

    document.querySelectorAll('.carousel-dot').forEach((dot, i) => {
      dot.classList.toggle('active', i === currentIndex);
    });
  }

  function goToSlide(index) {
    currentIndex = Math.max(0, Math.min(index, maxIndex));
    updateCarousel();
  }

  prevBtn.addEventListener('click', () => goToSlide(currentIndex - 1));
  nextBtn.addEventListener('click', () => goToSlide(currentIndex + 1));

  // Keyboard shortcut for search
  document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
      e.preventDefault();
      document.getElementById('docs-search').focus();
    }
  });
});
</script>
{% endblock %}
